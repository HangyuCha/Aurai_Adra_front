.lessonPage{width:100%;min-height:100%;display:flex;justify-content:center;align-items:flex-start;padding:40px 20px 120px;box-sizing:border-box;}
.phoneShell{position:relative;width:clamp(320px,36vw,390px);height:780px;background:#f5f5f7;border-radius:42px;padding:14px 14px 0;box-shadow:0 12px 40px -10px rgba(0,0,0,.28),0 4px 18px rgba(0,0,0,.12);display:flex;flex-direction:column;overflow:hidden;font-family:'Jua',system-ui,sans-serif;}
.statusBar{display:flex;justify-content:space-between;align-items:center;font-size:12px;color:#111;padding:0 6px 8px;}
.time{font-weight:600;}
.statusIcons{display:flex;gap:4px;}
.statusIcons .dot{width:6px;height:6px;background:#111;border-radius:50%;opacity:.5;}
.topActions{display:flex;gap:10px;padding:0 4px 10px;}
.pill{flex:1;border:0;border-radius:36px;background:#ffffff;color:#111;font-size:16px;box-shadow:0 4px 10px rgba(0,0,0,.18);padding:12px 16px;font-family:'Jua',system-ui,sans-serif;cursor:pointer;display:flex;justify-content:center;align-items:center;transition:.35s;}
.pill:disabled{opacity:.55;cursor:not-allowed;}
.pill:hover:not(:disabled){transform:translateY(-3px);} 
.primary{background:linear-gradient(135deg,#69b5ff,#4c86e8);color:#fff;}
.iconPill{width:60px;border:0;border-radius:36px;background:#fff;box-shadow:0 4px 10px rgba(0,0,0,.18);font-size:20px;cursor:pointer;display:flex;align-items:center;justify-content:center;}
.chatHeader{display:flex;align-items:center;gap:10px;background:#f0f2f5;padding:10px 12px;border-radius:26px;margin:0 4px 8px;position:relative;}
.backChevron{border:0;background:#fff;border-radius:50%;width:34px;height:34px;font-size:22px;line-height:1;cursor:pointer;box-shadow:0 2px 6px rgba(0,0,0,.16);} 
.threadBadge{position:absolute;left:46px;top:6px;background:#2d65c4;color:#fff;font-size:12px;padding:2px 7px;border-radius:14px;font-weight:600;}
.peer{display:flex;align-items:center;gap:10px;margin:0 auto;}
.avatar{width:56px;height:56px;border-radius:50%;background:#d7dbe2;object-fit:cover;box-shadow:0 2px 6px rgba(0,0,0,.18);} 
.peerName{font-size:18px;letter-spacing:.5px;}
.messages{flex:1;overflow-y:auto;padding:4px 6px 10px;display:flex;flex-direction:column;gap:18px;scroll-behavior:smooth;}
.messageWrap{display:flex;flex-direction:column;max-width:100%;}
.timeStamp{align-self:center;font-size:11px;color:#666;margin:6px 0 4px;}
.bubble{position:relative;font-size:16px;line-height:1.3;padding:10px 14px 12px;border-radius:20px;max-width:78%;word-break:keep-all;white-space:pre-line;box-shadow:0 2px 6px rgba(0,0,0,.15);} 
.other{background:#e5e5ea;color:#111;border-top-left-radius:6px;}
.me{background:#4cd964;color:#111;border-top-right-radius:6px;margin-left:auto;}
.focus{outline:3px solid #59A3FF;}
.inputBar{display:flex;align-items:center;gap:10px;padding:12px 10px 14px;background:#f0f2f5;border-radius:30px;margin:0 4px 10px;}
.toolBtn{width:42px;height:42px;border:2px solid #2d65c4;background:#fff;border-radius:14px;display:flex;align-items:center;justify-content:center;cursor:pointer;}
.toolBtn img{width:24px;height:24px;object-fit:contain;}
.toolBtn:disabled{opacity:.45;cursor:default;}
.textInput{flex:1;height:42px;border:0;border-radius:16px;background:#fff;padding:0 14px;font-size:15px;font-family:system-ui,sans-serif;}
.textInput:disabled{opacity:.6;}
.micBtn{width:46px;height:46px;border:0;background:#fff;border-radius:50%;font-size:22px;cursor:pointer;box-shadow:0 2px 6px rgba(0,0,0,.18);} 
.micBtn:disabled{opacity:.5;cursor:default;}
.stepBar{position:absolute;left:14px;right:14px;bottom:16px;background:#ffffff;border-radius:34px;padding:16px 18px 14px;display:flex;flex-direction:column;gap:14px;box-shadow:0 10px 30px -10px rgba(0,0,0,.28),0 4px 12px rgba(0,0,0,.12);}
.stepInner{font-size:18px;line-height:1.3;letter-spacing:.5px;}
.stepControls{display:flex;justify-content:flex-end;gap:10px;}
.stepNavBtn,.stepNavBtnPrimary{border:0;border-radius:24px;padding:10px 18px;font-size:15px;font-weight:600;cursor:pointer;font-family:'Jua',system-ui,sans-serif;box-shadow:0 4px 8px rgba(0,0,0,.15);}
.stepNavBtn{background:#e5e9ef;color:#333;}
.stepNavBtn:disabled{opacity:.5;cursor:not-allowed;}
.stepNavBtnPrimary{background:linear-gradient(135deg,#59A3FF,#2d65c4);color:#fff;}
@media (max-width:560px){
  .lessonPage{padding:26px 10px 120px;}
  .phoneShell{width:100%;height:calc(100vh - 70px);border-radius:34px;}
  .stepBar{position:static;margin:8px 0 10px;}
}
